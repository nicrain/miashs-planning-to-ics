# è¯¾ç¨‹è®¡åˆ’è§£æå™¨ V5.2

> è‡ªåŠ¨ä»Google Sheetsç”ŸæˆICSæ—¥å†æ–‡ä»¶ï¼Œæ”¯æŒæ™ºèƒ½åˆ é™¤çº¿æ£€æµ‹å’Œå¤šæ—¶é—´æ®µäº‹ä»¶è§£æ

## åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- **åŠ¨æ€URLæå–**: è‡ªåŠ¨ä»ä¸»é¡µé¢è·å–æ‰€æœ‰æœˆä»½çš„Google Sheetsé“¾æ¥
- **æ™ºèƒ½åˆ é™¤çº¿æ£€æµ‹**: æ”¯æŒCSSç±»å’Œå†…è”æ ·å¼ä¸¤ç§åˆ é™¤çº¿æ£€æµ‹æ–¹å¼
- **å¤šæ—¶é—´æ®µäº‹ä»¶è§£æ**: è‡ªåŠ¨è¯†åˆ«å¹¶åˆ›å»ºåŒä¸€å•å…ƒæ ¼ä¸­å¤šä¸ªæ—¶é—´æ®µçš„ç‹¬ç«‹äº‹ä»¶
- **å¤šå±‚æ¬¡å–æ¶ˆæ£€æµ‹**: åŒºåˆ†æ•´æ—¥å–æ¶ˆå’Œéƒ¨åˆ†è¯¾ç¨‹å–æ¶ˆ
- **é…ç½®æ–‡ä»¶æ”¯æŒ**: æ‰‹åŠ¨ç»´æŠ¤é¢å¤–çš„å–æ¶ˆæ—¥æœŸ
- **å®Œæ•´æ—¶åŒºæ”¯æŒ**: ä½¿ç”¨å·´é»æ—¶åŒºå¤„ç†æ‰€æœ‰æ—¶é—´

### æ£€æµ‹èƒ½åŠ›
- **CSSç±»åˆ é™¤çº¿** - æ£€æµ‹å¦‚`.s15`ç­‰æ ·å¼ç±»çš„æ•´æ—¥å–æ¶ˆ
- **å†…è”spanåˆ é™¤çº¿** - æ£€æµ‹å•ä¸ªè¯¾ç¨‹çš„éƒ¨åˆ†å–æ¶ˆ
- **å¤šæ—¶é—´æ®µè§£æ** - è‡ªåŠ¨è¯†åˆ«å¦‚"11h-13h : LSF niveau 1"å’Œ"15h-17h : LSF niveau 3"çš„ç‹¬ç«‹äº‹ä»¶
- **é…ç½®æ–‡ä»¶å–æ¶ˆ** - æ”¯æŒæ‰‹åŠ¨æ·»åŠ å–æ¶ˆæ—¥æœŸ
- **æ™ºèƒ½URLå‚æ•°** - è‡ªåŠ¨æ·»åŠ `&widget=false`è·å–å®Œæ•´æ ·å¼

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨
```bash
python3 planning.py
```

### é…ç½®å–æ¶ˆæ—¥æœŸ
åˆ›å»º `cancelled_dates.txt` æ–‡ä»¶ï¼š
```
# æ‰‹åŠ¨å–æ¶ˆçš„æ—¥æœŸ (æ ¼å¼: DD/MM æˆ– DD/MM/YYYY)
02/10/2025
15/11
# æ³¨é‡Šè¡Œä»¥#å¼€å¤´
```

## è¾“å‡ºç¤ºä¾‹

```
INFO: ğŸ“… å¼€å§‹ç”Ÿæˆè¯¾ç¨‹æ—¥å† (V5 - ä¼˜åŒ–ç‰ˆæœ¬)...
INFO: æ­£åœ¨ä»ä¸»é¡µé¢æå–æœˆä»½ä¿¡æ¯...
INFO: æ‰¾åˆ°: septembre -> https://docs.google.com/spreadsheets/...
INFO: æ­£åœ¨å¤„ç† Septembre çš„æ•°æ®...
   ğŸ” æ­£åœ¨å°è¯•HTMLåˆ é™¤çº¿æ£€æµ‹...
     âœ“ æ‰¾åˆ°åŒ…å«æ ·å¼çš„HTMLå†…å®¹!
     ğŸš« æ£€æµ‹åˆ°éƒ¨åˆ†è¯¾ç¨‹å–æ¶ˆ: 24/09/2025
         å–æ¶ˆå†…å®¹: 18h-21h : Gestion de projet Mohammed Zbakh (1)
INFO: å¤„ç† 09/10/2025 çš„è¯¾ç¨‹...
INFO: æ·»åŠ äº‹ä»¶: Arduino  (6) - Salvatore Anzalone
INFO: æ·»åŠ äº‹ä»¶: LSF niveau 1 - Marie JosÃ©e Henriquet
INFO: æ·»åŠ äº‹ä»¶: LSF niveau 3 - Marie JosÃ©e Henriquet  â† è‡ªåŠ¨åˆ›å»ºç‹¬ç«‹äº‹ä»¶
INFO: æ·»åŠ äº‹ä»¶: ConfÃ©rence
INFO: ğŸ‰ æˆåŠŸ! æ—¥å†æ–‡ä»¶å·²ç”Ÿæˆ: master_handi_schedule.ics
```

## æ¶æ„è®¾è®¡

### ç±»ç»“æ„
```python
class Config:
    """é›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®å¸¸é‡"""
    PLANNING_URL = "https://handiman.univ-paris8.fr/..."
    SUPPORTED_MONTHS = {'septembre', 'octobre', ...}
    HEADERS = {...}

@dataclass
class CancelledEvent:
    """å–æ¶ˆäº‹ä»¶çš„æ•°æ®ç»“æ„"""
    date: Tuple[int, int, int]
    content: str
    event_type: str

class ScheduleProcessor:
    """ä¸»è¦çš„å¤„ç†å™¨ç±»"""
    def process_schedule(self) -> bool
    def _process_month_data(self, month_name, csv_url) -> bool
    def _download_csv_data(self, csv_url) -> Optional[List[List[str]]]
```

### å¤„ç†æµç¨‹
1. **æå–æœˆä»½URL** - ä»ä¸»é¡µé¢åŠ¨æ€è·å–æ‰€æœ‰æœˆä»½é“¾æ¥
2. **HTMLåˆ é™¤çº¿æ£€æµ‹** - åˆ†æCSSå’Œå†…è”æ ·å¼æ‰¾å‡ºå–æ¶ˆçš„è¯¾ç¨‹
3. **CSVæ•°æ®ä¸‹è½½** - è·å–å®é™…çš„è¯¾ç¨‹æ•°æ®
4. **äº‹ä»¶è§£æä¸è¿‡æ»¤** - è§£æè¯¾ç¨‹å†…å®¹å¹¶è·³è¿‡å–æ¶ˆçš„äº‹ä»¶
5. **ICSæ–‡ä»¶ç”Ÿæˆ** - ç”Ÿæˆæ ‡å‡†æ—¥å†æ ¼å¼æ–‡ä»¶

## ç‰ˆæœ¬å†å²

### V5.2 (2025-12-19) - æ˜¥å­£å­¦æœŸæ”¯æŒ
- **æ–°åŠŸèƒ½**: æ·»åŠ å¯¹æ˜¥å­£å­¦æœŸæœˆä»½ï¼ˆ3æœˆ-7æœˆï¼‰çš„è¯†åˆ«æ”¯æŒ
- **ä¿®å¤**: è§£å†³äº†æœˆä»½é“¾æ¥æ•°é‡ä¸åŒ¹é…å¯¼è‡´çš„ç¨‹åºé€€å‡ºé—®é¢˜
- **ä¿®å¤**: ä¿®æ­£äº†æ˜¥å­£å­¦æœŸè¯¾ç¨‹å’Œå–æ¶ˆæ£€æµ‹çš„å¹´ä»½è®¡ç®—é€»è¾‘ï¼ˆæ­£ç¡®è¯†åˆ«2026å¹´ï¼‰
- **èŒƒå›´**: æ”¯æŒå®Œæ•´çš„å­¦å¹´è¯¾ç¨‹è®¡åˆ’è§£æ

### V5.1 (2025-10-06) - å¤šæ—¶é—´æ®µäº‹ä»¶è§£æ
- **æ–°åŠŸèƒ½**: æ”¯æŒåŒä¸€å•å…ƒæ ¼ä¸­å¤šä¸ªæ—¶é—´æ®µçš„ç‹¬ç«‹äº‹ä»¶åˆ›å»º
- **ä¿®å¤**: è§£å†³äº†LSF niveau 3ç­‰è¯¾ç¨‹è¢«åˆå¹¶åˆ°å…¶ä»–äº‹ä»¶æè¿°ä¸­çš„é—®é¢˜
- **æ”¹è¿›**: äº‹ä»¶æ€»æ•°ä»132ä¸ªå¢åŠ åˆ°148ä¸ªï¼Œæé«˜æ—¥å†å®Œæ•´æ€§
- **ç¤ºä¾‹**: "11h-13h : LSF niveau 1" + "15h-17h : LSF niveau 3" ç°åœ¨åˆ›å»ºä¸¤ä¸ªç‹¬ç«‹äº‹ä»¶

### V5.0 (2025-10-06) - é‡å¤§æ¶æ„å‡çº§
- **æ–°åŠŸèƒ½**: HTMLåˆ é™¤çº¿è‡ªåŠ¨æ£€æµ‹
- **æ¶æ„**: é¢å‘å¯¹è±¡é‡æ„ï¼Œå¼•å…¥ç±»å‹æ³¨è§£
- **ä¼˜åŒ–**: æ ‡å‡†åŒ–æ—¥å¿—ï¼Œé”™è¯¯å¤„ç†æ”¹è¿›
- **æ£€æµ‹**: æ”¯æŒCSSç±»å’Œspanå†…è”ä¸¤ç§åˆ é™¤çº¿

### V4.0 - åŠ¨æ€URLæ”¯æŒ
- è‡ªåŠ¨ä»ä¸»é¡µé¢æå–æœˆä»½é“¾æ¥
- æ”¯æŒé…ç½®æ–‡ä»¶æ‰‹åŠ¨å–æ¶ˆ

### V3.0 - å¤šæœˆä»½æ”¯æŒ
- æ‰©å±•åˆ°6ä¸ªæœˆè¯¾ç¨‹è®¡åˆ’
- æ—¶åŒºå¤„ç†ä¼˜åŒ–

### V2.0 - åŸºç¡€è§£æåŠŸèƒ½
- åŸºæœ¬çš„CSVè§£æå’ŒICSç”Ÿæˆ
- æ—¶é—´æ ¼å¼å¤„ç†

### V1.0 - æ¦‚å¿µéªŒè¯
- å•æœˆä»½ç¡¬ç¼–ç å¤„ç†

## ä¾èµ–é¡¹

```python
requests>=2.25.0
beautifulsoup4>=4.9.0
ics>=0.7.0
```

## å¼€å‘

### ç¯å¢ƒè®¾ç½®
```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
source ../../.venv/bin/activate

# å®‰è£…ä¾èµ–
pip install requests beautifulsoup4 ics

# è¿è¡Œ
python3 planning.py
```

### è°ƒè¯•æ¨¡å¼
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## è®¸å¯è¯

MIT License - è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹

## è´¡çŒ®è€…

- **ä¸»è¦å¼€å‘**: GitHub Copilot Assistant
- **æ¶æ„è®¾è®¡**: é¢å‘å¯¹è±¡ + ç±»å‹å®‰å…¨
- **æµ‹è¯•éªŒè¯**: å®é™…è¯¾ç¨‹æ•°æ®éªŒè¯

---

**ç”Ÿæˆçš„æ–‡ä»¶**: `master_handi_schedule.ics` (å¯ç›´æ¥å¯¼å…¥iPhone/Googleæ—¥å†)
